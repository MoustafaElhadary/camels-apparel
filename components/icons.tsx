import React, { HTMLAttributes, ReactElement } from 'react';
import Link from 'next/link';
import { useRouter } from 'next/router';
const activeIconClass = 'text-white mr-3 h-6 w-6';
const normalIconClass = 'text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6';

const activeClass =
  'bg-black text-white group flex items-center px-2 py-2 text-base font-medium rounded-md';
const normalClass =
  'text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-base font-medium rounded-md';

const siteLinks = {
  home: ['/home'],
  communities: ['/c/[name]', '/p/[name]', '/communities'],
  groups: ['/g/[name]', '/groups'],
  events: ['/e/[name]', '/events'],
  friend: ['/friends'],
};

export enum PageType {
  home,
  communities,
  groups,
  events,
  friend,
}

interface IconProps extends HTMLAttributes<HTMLElement> {
  active?: boolean;
  Icon?: React.ElementType;
  text?: string;
  href?: string;
  type?: PageType;
}

export function FilledHomeIcon({ active, className }: IconProps): ReactElement {
  return (
    <svg
      className={
        className ? className : active ? activeIconClass : normalIconClass
      }
      xmlns="http://www.w3.org/2000/svg"
      fill="currentColor"
      viewBox="0 0 20 20"
      aria-hidden="true"
    >
      <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
    </svg>
  );
}
export function HomeIcon({ active, className }: IconProps): ReactElement {
  return (
    <svg
      className={
        className ? className : active ? activeIconClass : normalIconClass
      }
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      aria-hidden="true"
    >
      <path
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth="2"
        d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
      />
    </svg>
  );
}

export function GroupIcon({ active, className }: IconProps): ReactElement {
  return (
    <svg
      className={
        className ? className : active ? activeIconClass : normalIconClass
      }
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      aria-hidden="true"
    >
      <path
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth="2"
        d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"
      />
    </svg>
  );
}

export function EventsIcon({ active, className }: IconProps): ReactElement {
  return (
    <svg
      className={
        className ? className : active ? activeIconClass : normalIconClass
      }
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      aria-hidden="true"
    >
      <path
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth="2"
        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
      />
    </svg>
  );
}

export function FireIcon({ active, className }: IconProps): ReactElement {
  return (
    <svg
      className={
        className ? className : active ? activeIconClass : normalIconClass
      }
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      aria-hidden="true"
    >
      <path
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth={2}
        d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"
      />
      <path
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth={2}
        d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"
      />
    </svg>
  );
}

export function LocationIcon({ active, className }: IconProps): ReactElement {
  return (
    <svg
      className={
        className ? className : active ? activeIconClass : normalIconClass
      }
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      aria-hidden="true"
    >
      <path
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth={2}
        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
      />
      <path
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeWidth={2}
        d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
      />
    </svg>
  );
}

export function Logo({}: IconProps): ReactElement {
  return (
    <Link href="/">
      <a>
        <span className="sr-only">Endorse U</span>
        <svg
          viewBox="0 0 1735 817"
          className="h-8 w-auto sm:h-24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M1530.2 617.2C1437.8 617.2 1391.6 574 1391.6 487.6V295.6C1391.6 282.4 1390.2 273.8 1387.4 269.8C1385 265.4 1379.8 263.2 1371.8 263.2C1367.8 263.2 1363.8 263.4 1359.8 263.8C1356.2 264.2 1353.8 264.4 1352.6 264.4L1351.4 262L1356.8 223C1362.4 223.4 1373.2 223.8 1389.2 224.2C1405.6 224.6 1423 224.8 1441.4 224.8C1451.8 224.8 1465 224.4 1481 223.6C1497 222.4 1507.6 221.6 1512.8 221.2L1508.6 260.8C1495.8 262.4 1487 265.6 1482.2 270.4C1477.8 274.8 1475.2 282.4 1474.4 293.2L1470.2 468.4C1470.2 498.8 1476.6 522.4 1489.4 539.2C1502.6 555.6 1521.4 563.8 1545.8 563.8C1595.8 563.8 1620.8 537.4 1620.8 484.6C1620.8 453.8 1620.4 418.6 1619.6 379C1619.2 339.4 1618.8 311.6 1618.4 295.6C1618 282.4 1616.6 273.8 1614.2 269.8C1611.8 265.4 1606.8 263.2 1599.2 263.2C1595.2 263.2 1591.2 263.4 1587.2 263.8C1583.2 264.2 1580.4 264.4 1578.8 264.4L1577.6 262L1583 223C1588.2 223 1597.6 223.4 1611.2 224.2C1625.2 224.6 1639 224.8 1652.6 224.8C1665.4 224.8 1679.2 224.4 1694 223.6C1709.2 222.4 1719 221.6 1723.4 221.2L1719.8 260.2C1709 262.6 1701.2 264.8 1696.4 266.8C1691.6 268.8 1688.4 271.6 1686.8 275.2C1685.2 278.8 1684.4 284.2 1684.4 291.4V478C1684.4 522.8 1671.2 557.2 1644.8 581.2C1618.4 605.2 1580.2 617.2 1530.2 617.2Z"
            fill="#D30000"
          />
          <path
            d="M222.8 466.4C218.533 487.2 214.933 511.867 212 540.4L208 544.8C157.067 542.933 115.6 542 83.6 542C61.2 542 38.4 543.333 15.2 546L18 519.2C29.2 517.6 36.8 514.4 40.8 509.6C44.8 504.8 46.8 496.533 46.8 484.8L47.2 332.4C47.2 323.6 46.4 317.867 44.8 315.2C43.2 312.267 39.7333 310.8 34.4 310.8C30.9333 310.8 26.8 311.067 22 311.6L19.6 308L22.8 284H30.8C49.7333 284.8 71.2 285.2 95.2 285.2C154.667 285.2 195.2 283.6 216.8 280.4L220 284.8C217.867 294.667 215.867 306.4 214 320C212.4 333.6 211.333 346 210.8 357.2L175.2 359.6L176 343.6C176 335.6 174.8 330 172.4 326.8C170.267 323.333 165.733 321.067 158.8 320C152.133 318.667 140.8 318 124.8 318C117.867 318 113.067 318.267 110.4 318.8C107.733 319.333 105.867 320.533 104.8 322.4C104 324.267 103.467 327.333 103.2 331.6L100.4 394.4L138 394.8C143.6 394.8 150.533 394.533 158.8 394C167.333 393.2 175.867 392.267 184.4 391.2L187.6 394.8L182 428.8C178.533 428.8 175.867 428.667 174 428.4C155.333 427.867 140.533 427.6 129.6 427.6C121.333 427.6 111.067 428.4 98.8 430L98 487.2C98 494.667 98.5333 500 99.6 503.2C100.933 506.4 103.2 508.533 106.4 509.6C109.867 510.667 115.733 511.2 124 511.2C141.6 511.2 154.267 510.267 162 508.4C170 506.267 175.733 502.133 179.2 496C182.667 489.867 185.333 479.733 187.2 465.6L220 462.8L222.8 466.4ZM349.288 520.4C355.954 519.067 360.621 516.667 363.288 513.2C366.221 509.733 367.821 504.667 368.088 498L369.288 428.8C369.288 417.067 367.154 408.4 362.888 402.8C358.621 396.933 352.088 394 343.288 394C333.154 394 321.421 399.067 308.088 409.2C305.421 457.2 304.088 487.2 304.088 499.2C304.088 505.867 304.888 510.533 306.488 513.2C308.354 515.867 311.554 517.2 316.088 517.2L326.888 516.8L327.688 518.4L323.688 543.2C320.754 542.933 315.154 542.667 306.888 542.4C298.888 542.133 290.488 542 281.688 542C273.154 542 263.821 542.267 253.688 542.8C243.821 543.6 237.421 544.133 234.488 544.4L237.688 519.6C245.421 518.8 250.754 516.8 253.688 513.6C256.888 510.133 258.488 504.667 258.488 497.2V412.4C258.488 403.067 257.021 396.8 254.088 393.6C251.421 390.133 246.354 388.4 238.888 388.4H233.688L232.088 386.4L234.088 365.6C249.288 363.467 264.221 360.933 278.888 358C293.821 355.067 303.421 353.2 307.688 352.4L310.888 356.4C310.354 358 309.554 361.6 308.488 367.2C307.421 372.8 306.754 378.4 306.488 384L308.088 385.6C316.354 378.4 325.821 371.2 336.488 364C347.421 356.533 355.288 352.8 360.088 352.8C379.021 352.8 393.688 357.333 404.088 366.4C414.754 375.467 420.088 388.133 420.088 404.4C420.088 408.4 419.021 422.4 416.888 446.4C414.221 473.6 412.888 491.067 412.888 498.8C412.888 505.733 413.821 510.667 415.688 513.6C417.821 516.533 421.021 518 425.288 518C427.954 518 430.488 517.867 432.887 517.6C435.287 517.333 436.888 517.2 437.688 517.2L438.488 518.8L434.888 543.2C431.688 542.933 425.821 542.667 417.288 542.4C409.021 542.133 400.488 542 391.688 542C385.288 542 377.021 542.4 366.888 543.2C357.021 544.267 350.488 544.933 347.288 545.2L349.288 520.4ZM613.897 546.8C590.164 546.8 576.83 537.2 573.897 518L571.497 517.2C545.63 535.867 530.03 545.2 524.697 545.2C501.497 545.2 482.964 537.333 469.097 521.6C455.497 505.867 448.697 484.533 448.697 457.6C448.697 437.867 452.964 420.133 461.497 404.4C470.297 388.4 482.297 376 497.497 367.2C512.964 358.133 530.297 353.6 549.497 353.6C555.897 353.6 562.83 354 570.297 354.8V303.2C570.297 294.933 568.964 289.2 566.297 286C563.897 282.533 559.63 280.8 553.497 280.8C551.364 280.8 549.364 280.933 547.497 281.2C545.63 281.467 544.43 281.733 543.897 282L546.297 258.4C562.03 256.533 577.897 254.133 593.897 251.2C609.897 248.267 620.297 246.267 625.097 245.2L628.697 252C625.23 257.067 622.297 283.067 619.897 330C617.497 376.933 616.297 430.133 616.297 489.6C616.297 494.667 617.364 498.667 619.497 501.6C621.897 504.533 625.097 506 629.097 506C632.03 506 634.83 505.467 637.497 504.4C640.164 503.333 642.297 502.267 643.897 501.2C645.764 500.133 646.964 499.467 647.497 499.2L653.897 507.6C653.097 509.2 650.83 512.667 647.097 518C643.364 523.333 638.43 528.933 632.297 534.8C626.43 540.667 620.297 544.667 613.897 546.8ZM539.497 508.4C543.764 508.4 548.164 507.467 552.697 505.6C557.497 503.467 561.364 501.333 564.297 499.2C567.497 497.067 569.497 495.6 570.297 494.8V393.6C569.764 393.333 568.164 392.667 565.497 391.6C562.83 390.533 559.364 389.467 555.097 388.4C550.83 387.333 546.03 386.8 540.697 386.8C527.63 386.8 517.497 391.733 510.297 401.6C503.097 411.2 499.497 424.933 499.497 442.8C499.497 462.533 503.097 478.4 510.297 490.4C517.764 502.4 527.497 508.4 539.497 508.4ZM742.341 546.8C725.541 546.8 710.741 543.067 697.941 535.6C685.141 527.867 675.274 517.067 668.341 503.2C661.407 489.333 657.941 473.333 657.941 455.2C657.941 435.2 661.941 417.467 669.941 402C678.207 386.533 689.541 374.533 703.941 366C718.607 357.2 735.407 352.8 754.341 352.8C780.207 352.8 800.607 361.067 815.541 377.6C830.741 393.867 838.341 416 838.341 444C838.341 464 834.341 481.867 826.341 497.6C818.341 513.067 807.007 525.2 792.341 534C777.941 542.533 761.274 546.8 742.341 546.8ZM750.341 516.8C761.807 516.8 770.474 512.267 776.341 503.2C782.474 493.867 785.541 480.267 785.541 462.4C785.541 437.333 782.074 418.4 775.141 405.6C768.207 392.8 758.207 386.4 745.141 386.4C733.674 386.4 724.874 391.067 718.741 400.4C712.874 409.467 709.941 422.933 709.941 440.8C709.941 465.867 713.407 484.8 720.341 497.6C727.274 510.4 737.274 516.8 750.341 516.8ZM860.991 519.2C868.991 518.667 874.324 516.533 876.991 512.8C879.924 509.067 881.391 502 881.391 491.6V412C881.391 402.933 880.191 396.8 877.791 393.6C875.391 390.133 870.857 388.4 864.191 388.4L856.591 388.8L854.591 386L856.991 366C871.124 363.6 885.524 360.933 900.191 358C915.124 355.067 924.724 353.2 928.991 352.4L932.591 356C932.057 358.4 931.257 363.467 930.191 371.2C929.391 378.933 928.857 386.4 928.591 393.6L930.991 395.2C939.257 382.667 948.324 372.933 958.191 366C968.324 359.067 977.924 355.6 986.991 355.6C990.724 355.6 993.791 355.733 996.191 356C998.591 356.267 1000.19 356.533 1000.99 356.8L1002.59 360C1001.79 364.533 1000.46 374.4 998.591 389.6C996.724 404.533 995.391 418.8 994.591 432.4L968.991 434C968.991 421.2 968.191 412.8 966.591 408.8C965.257 404.533 962.324 402.4 957.791 402.4C953.524 402.4 948.991 404 944.191 407.2C939.391 410.4 934.857 414.8 930.591 420.4C930.324 427.867 929.657 440.133 928.591 457.2C927.791 474 927.257 487.467 926.991 497.6C926.991 504.533 928.057 509.333 930.191 512C932.591 514.667 936.724 516 942.591 516C946.591 516 950.591 515.867 954.591 515.6C958.591 515.333 961.257 515.067 962.591 514.8L963.791 517.2L959.391 543.6C955.657 543.333 948.724 542.933 938.591 542.4C928.724 542.133 918.457 542 907.791 542C897.657 542 887.524 542.133 877.391 542.4C867.257 542.933 860.724 543.333 857.791 543.6L860.991 519.2ZM1067.84 546.8C1058.24 546.8 1049.44 546 1041.44 544.4C1033.71 542.8 1027.58 541.2 1023.04 539.6C1018.51 537.733 1015.71 536.533 1014.64 536L1012.24 532C1013.31 524.8 1014.24 516.4 1015.04 506.8C1016.11 497.2 1016.91 488 1017.44 479.2L1039.44 477.2C1039.71 504.133 1051.58 517.6 1075.04 517.6C1082.78 517.6 1089.18 516 1094.24 512.8C1099.31 509.333 1101.84 505.067 1101.84 500C1101.84 494.667 1099.18 489.867 1093.84 485.6C1088.51 481.067 1077.84 474.933 1061.84 467.2C1045.84 459.733 1034.24 451.867 1027.04 443.6C1019.84 435.067 1016.24 425.2 1016.24 414C1016.24 402 1019.71 391.467 1026.64 382.4C1033.58 373.067 1043.31 365.867 1055.84 360.8C1068.38 355.467 1082.64 352.8 1098.64 352.8C1106.38 352.8 1113.58 353.333 1120.24 354.4C1126.91 355.467 1132.11 356.667 1135.84 358C1139.84 359.067 1142.38 359.733 1143.44 360L1145.44 364C1144.91 366.933 1143.71 373.6 1141.84 384C1140.24 394.133 1138.91 404.667 1137.84 415.6L1115.44 417.2L1115.84 410C1115.84 400.667 1113.58 393.867 1109.04 389.6C1104.51 385.067 1097.44 382.8 1087.84 382.8C1080.91 382.8 1075.04 384.533 1070.24 388C1065.44 391.2 1063.04 395.333 1063.04 400.4C1063.04 405.467 1065.18 410.133 1069.44 414.4C1073.71 418.667 1080.78 423.2 1090.64 428C1106.38 435.467 1118.38 442.133 1126.64 448C1135.18 453.867 1141.04 459.867 1144.24 466C1147.71 471.867 1149.44 478.933 1149.44 487.2C1149.44 498.133 1145.84 508.133 1138.64 517.2C1131.44 526.267 1121.58 533.467 1109.04 538.8C1096.51 544.133 1082.78 546.8 1067.84 546.8ZM1255.93 546.8C1227.93 546.8 1205.79 538.667 1189.53 522.4C1173.53 505.867 1165.53 483.333 1165.53 454.8C1165.53 435.6 1169.66 418.267 1177.93 402.8C1186.19 387.333 1197.53 375.2 1211.93 366.4C1226.33 357.333 1242.33 352.8 1259.93 352.8C1304.73 352.8 1327.13 375.467 1327.13 420.8C1327.13 428.8 1326.19 436.267 1324.33 443.2L1319.53 448H1215.93C1216.19 467.467 1220.73 482.4 1229.53 492.8C1238.59 502.933 1251.13 508 1267.13 508C1280.99 508 1296.86 504 1314.73 496L1317.53 497.6L1323.93 517.2C1314.06 524.667 1302.59 531.467 1289.53 537.6C1276.73 543.733 1265.53 546.8 1255.93 546.8ZM1270.73 422.8C1273.93 422.533 1275.93 421.867 1276.73 420.8C1277.79 419.733 1278.33 417.333 1278.33 413.6C1278.33 393.867 1269.93 384 1253.13 384C1242.73 384 1234.19 387.6 1227.53 394.8C1221.13 402 1217.26 412.4 1215.93 426L1270.73 422.8Z"
            fill="black"
          />
        </svg>
      </a>
    </Link>
  );
}

export function IconWithText({
  active,
  Icon,
  text,
  href = '/',
}: IconProps): ReactElement {
  return (
    <Link href={href}>
      <a className={active ? activeClass : normalClass}>
        <Icon active={active} />
        {text}
      </a>
    </Link>
  );
}

export function IconLinkWithText({
  text,
  href = '/',
  type,
}: IconProps): ReactElement {
  const router = useRouter();

  let Icon: React.ElementType;
  switch (type) {
    case PageType.home:
      Icon = HomeIcon;
      break;
    case PageType.communities:
      Icon = LocationIcon;
      break;
    case PageType.groups:
      Icon = GroupIcon;
      break;
    case PageType.events:
      Icon = EventsIcon;
      break;
    case PageType.friend:
      Icon = FireIcon;
      break;

    default:
      Icon = FireIcon;
  }

  return (
    <IconWithText
      Icon={Icon}
      text={text}
      href={href}
      active={siteLinks[PageType[type]]?.includes(router.pathname)}
    />
  );
}
